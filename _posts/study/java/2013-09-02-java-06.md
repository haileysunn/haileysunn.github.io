---
layout: post
title: 2013-09-02-java-06
description: >
  스레드
categories:
 - study
 - java
---

# 스레드

## 스레드란?
![스레드](/assets/img/blog/java30.png)
다중 스레딩(multi-threading)은 하나의 프로그램이 동시에 여러 가지 작업을 할 수 있도록 하는 것
각각의 작업은 스레드(thread)라고 불린다. 

### 프로세스와 스레드
+ 프로세스(process): 자신만의 데이터를 가진다.
+ 스레드(thread): 동일한 데이터를 공유한다. 

### 스레드를 사용하는 이유
~~~
1. 웹 브라우저에서 웹 페이지를 보면서 동시에 파일을 다운로드할 수 있도록 한다.
2. 워드 프로세서에서 문서를 편집하면서 동시에 인쇄한다.
3. 게임 프로그램에서는 응답성을 높이기 위하여 많은 스레드를 사용한다.
4. GUI에서는 마우스와 키보드 입력을 다른 스레드를 생성하여 처리한다.
~~~

### 스레드 생성과 실행
스레드는 Thread 클래스가 담당한다. 
![스레드클래스](/assets/img/blog/java31.png)

### 스레드를 생성하는 방법
1. Thread 클래스를 상속하는 방법
2. Runnable 인터페이스를 구현하는 방법

어떤 방법이 좋은가?
+ 자바에서 다중 상속이 불가능한 것을 감안한다면 Runnable 인터페이스를 사용하는 것이 좋다. 
+ Runnable 인터페이스를 사용하면 고수준의 스레드 관리 API도 사용할 수 있다.

### 스레드 상태
![스레드 상태](/assets/img/blog/java32.png)
+ 생성 상태
  + Thread 클래스를 이용하여 새로운 스레드를 생성
  + start()는 생성된 스레드를 시작
  + stop()은 생성된 스레드를 멈추게 한다. 

+ 실행 가능 상태
  + 스레드가 스케줄링 큐에 넣어지고 스케줄러에 의해 우선순위에 따라 실행

+ 실행 중지 상태
  + 실행 가능한 상태에서 다음의 이벤트가 발생하면 실행 중지 상태로 된다.
    + 스레드나 다른 스레드가 suspend()를 호출하는 경우
    + 스레드가 wait()를 호출하는 경우
    + 스레드가 sleep()을 호출하는 경우
    + 스레드가 입출력 작업을 하기 위해 대기하는 경우 

### 동기화
한 번에 하나의 스레드 만이 공유 데이터를 접근할 수 있도록 제어하는 것이 필요
